<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/gliaswap-docs/blog/rss.xml" title="Gliaswap Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/gliaswap-docs/blog/atom.xml" title="Gliaswap Blog Atom Feed"><title data-react-helmet="true">Info Cell Type Script | Gliaswap</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Info Cell Type Script | Gliaswap"><meta data-react-helmet="true" name="description" content="1. Rule 1 - TypeID rules"><meta data-react-helmet="true" property="og:description" content="1. Rule 1 - TypeID rules"><meta data-react-helmet="true" property="og:url" content="https://zoe-zhouzhou.github.io/gliaswap-docs/docs/tx-script/info-type-script"><link data-react-helmet="true" rel="shortcut icon" href="/gliaswap-docs/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://zoe-zhouzhou.github.io/gliaswap-docs/docs/tx-script/info-type-script"><link rel="stylesheet" href="/gliaswap-docs/styles.431b3d95.css">
<link rel="preload" href="/gliaswap-docs/styles.b76c52ae.js" as="script">
<link rel="preload" href="/gliaswap-docs/runtime~main.55327375.js" as="script">
<link rel="preload" href="/gliaswap-docs/main.03e697ce.js" as="script">
<link rel="preload" href="/gliaswap-docs/1.3d4c47e5.js" as="script">
<link rel="preload" href="/gliaswap-docs/2.4348564c.js" as="script">
<link rel="preload" href="/gliaswap-docs/37.f9f393bd.js" as="script">
<link rel="preload" href="/gliaswap-docs/38.55bbf0d0.js" as="script">
<link rel="preload" href="/gliaswap-docs/935f2afb.619c3021.js" as="script">
<link rel="preload" href="/gliaswap-docs/17896441.ab5cd8d7.js" as="script">
<link rel="preload" href="/gliaswap-docs/92c17d9d.0ad6147a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/gliaswap-docs/"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Gliaswap</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/gliaswap-docs/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gliasgi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/gliaswap-docs/"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Gliaswap</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/gliaswap-docs/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/gliasgi" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gliaswap-docs/docs/">Introduction</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Product</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/product/overview">Gliaswap Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/product/fee">Fee Structure</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/cell">Cell Structure</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Transaction Structure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/swap-tx">Swap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/pool-tx">Pool</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Script</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/gliaswap-docs/docs/tx-script/info-type-script">Info Cell Type Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/info-lock-script">Info Cell Lock Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/swap-lock-script">Swap Request Cell Lock Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/liquidity-lock-script">Liquidity Request Cell Lock Script</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gliaswap-docs/docs/ref/faq">FAQ</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Info Cell Type Script</h1></header><div class="markdown"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="1-rule-1---typeid-rules"></a>1. Rule 1 - <a href="https://github.com/nervosnetwork/ckb/blob/master/script/src/type_id.rs" target="_blank" rel="noopener noreferrer">TypeID rules</a><a class="hash-link" href="#1-rule-1---typeid-rules" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="2-rule-2---if-this-is-a-matching-swap-transaction-the-cell-sequence-in-this-tx-should-follow-the-rules-blow"></a>2. Rule 2 - If this is a matching swap transaction, the cell sequence in this tx should follow the rules blow:<a class="hash-link" href="#2-rule-2---if-this-is-a-matching-swap-transaction-the-cell-sequence-in-this-tx-should-follow-the-rules-blow" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info_in_cell                            info_out_cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pool_in_cell                            pool_out_cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                          -------&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">matcher_in_cell                         matcher_out_cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[swap_request_cell]                     [sudt_cellæˆ–è€…ckb_cell]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="3-rule-3---if-this-is-a-swap-matching-transaction-verify-whether-the-data-changes-in-the-info-cell-is-correct-and-corresponding-to-the-actual-increase-or-decrease-in-the-amount-of-assets-in-the-pool-cell"></a>3. Rule 3 - If this is a swap matching transaction, verify whether the data changes in the info cell is correct and corresponding to the actual increase or decrease in the amount of assets in the pool cell<a class="hash-link" href="#3-rule-3---if-this-is-a-swap-matching-transaction-verify-whether-the-data-changes-in-the-info-cell-is-correct-and-corresponding-to-the-actual-increase-or-decrease-in-the-amount-of-assets-in-the-pool-cell" title="Direct link to heading">#</a></h4><p>Noticeï¼šIn pseudo code blowï¼Œtotal_liqidity is the Liquidity token balance in info cell, and liquidity_sudt_type_hash is Liquidity token type hash.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let info_in = inputs[0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let pool_in = inputs[1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let info_out = outputs[0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let pool_out = outputs[1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if info_out.capacity != INFO_CAPACITY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    || info_out.data.total_liquidity != info_in.data.total_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let ckb_got = BigInt::from(info_out.data.ckb_reserve) - info_in.data.ckb_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let sudt_got = BigInt::from(info_out.data.sudt_reserve) - info_in.data.sudt_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let ckb_reserve = info_in.data.ckb_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let sudt_reserve = info_in.data.sudt_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if ckb_got &gt; 0 &amp;&amp; sudt_got &lt; 0 // tx buy sudt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let sudt_paid = info_in.data.sudt_reserve - info_out.data.sudt_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ckb_got != (1000 * ckb_reserve * sudt_paid) / (997 * (sudt_reserve - sudt_paid))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else if ckb_got &lt; 0 &amp;&amp; sudt_got &gt; 0 // tx sell sudt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let ckb_paid = info_in.data.ckb_reserve - info_out.data.ckb_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if sudt_got != (1000 * sudt_reserve * ckb_paid) / (997 * (ckb_reserve - ckb_paid))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if pool_out.capacity != pool_in.capacity + ckb_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    || pool_out.data.amount != pool_in.data.amount + sudt_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">return success</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="4-rule-4----if-this-is-a-creating-pool-transaction-verify-that-the-pool-cell-is-created-at-the-same-time-as-the-info-cell-and-that-the-data-filled-in-info-cell-and-pool-cell-are-correct"></a>4. Rule 4  - If this is a creating pool transaction, verify that the Pool cell is created at the same time as the Info cell, and that the data filled in info cell and pool cell are correct.<a class="hash-link" href="#4-rule-4----if-this-is-a-creating-pool-transaction-verify-that-the-pool-cell-is-created-at-the-same-time-as-the-info-cell-and-that-the-data-filled-in-info-cell-and-pool-cell-are-correct" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">if none_of(input.type.code_hash) == INFO_TYPE_CODE_HASH // Info creation</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    info_id_verification()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if count(output.lock.code_hash == INFO_LOCK_CODE_HASH) != 2 // pool not found</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || info.lock.hash_type != 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || info.lock.args[0..32] != hash(ckb | pool.type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || info.lock.args[32..64] != info.type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || info.lock_hash != pool.lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || pool.data.size &lt; 16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="5-rule-5---if-this-is-a-matching-liquidity-transaction-the-cell-sequence-in-this-tx-should-follow-the-rules-blow"></a>5. Rule 5 - If this is a matching liquidity transaction, the cell sequence in this tx should follow the rules blow:<a class="hash-link" href="#5-rule-5---if-this-is-a-matching-liquidity-transaction-the-cell-sequence-in-this-tx-should-follow-the-rules-blow" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info_in_cell                            info_out_cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pool_in_cell                            pool_out_cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                          -------&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">aggregator_in_cell                      aggregator_out_cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[remove_liquidity_request_cell]         [sudt_cell]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[add_liquidity_request_cell]            [liquidity_cell + change_cell(sudt_cell or ckb_cell)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="6-rules-6---if-this-is-initially-adding-liquidity-verify-if-minting-the-correct-amount-liquidity-token-for-user-and-verify-if-the-data-storaged-in-info-cell-and-pool-cell-is-correct"></a>6. Rules 6 - If this is initially adding liquidity, verify if minting the correct amount Liquidity token for user, and verify if the data storaged in info cell and pool cell is correct.<a class="hash-link" href="#6-rules-6---if-this-is-initially-adding-liquidity-verify-if-minting-the-correct-amount-liquidity-token-for-user-and-verify-if-the-data-storaged-in-info-cell-and-pool-cell-is-correct" title="Direct link to heading">#</a></h4><p>Noticeï¼šIn pseudo code blowï¼Œtotal_liqidity is the Liquidity token balance in info cell, and liquidity_sudt_type_hash is Liquidity token type hash.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let info_in = inputs[0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let pool_in = inputs[1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let matcher_in = inputs[2]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let info_out = outputs[0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let pool_out = outputs[1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let matcher_out = outputs[2]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let ckb_reserve = info_in.data.ckb_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let sudt_reserve = info_in.data.sudt_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let total_liquidity = info_in.data.total_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let pool_ckb_paid = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let pool_sudt_paid = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let ckb_collected = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let sudt_collected = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let user_liquidity_added = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let user_liquidity_removed = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fn verify_genesis_add_liquidity()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ckb_reserve != 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || sudt_reserve != 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || total_liquidity != 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let liquidity = outputs[req_index_in_inputs]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let user_lock_hash = req.lock.args[0..32]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if liquidity.type_hash != info.data.liquidity_sudt_type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || liquidity.lock_hash != user_lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        reutrn fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let sudt_injected = BigUint::from(req.data.amount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let ckb_injected = BigUint::from(req.capacity - SUDT_CAPACITY)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let user_liquidity = BigUint::from(liquidity.data.amount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let added_liquidity: u128 = (sudt_injected * ckb_injected).sqrt().try_into().unwrap();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if user_liquidity != added_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ckb_collected += ckb_injected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sudt_collected += req.data.amount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    user_liquidity_added += user_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">endfn</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="7-rule-7---if-this-is-not-initially-adding-liquidity-iterate-through-all-request-cell"></a>7. Rule 7 - If this is not initially adding liquidity, iterate through all request cell**<a class="hash-link" href="#7-rule-7---if-this-is-not-initially-adding-liquidity-iterate-through-all-request-cell" title="Direct link to heading">#</a></h4><ul><li>If it is add liquidity request cell, verify if minting the correct amount Liquidity token for user, and add up the CKB amount, sUDT amount and Liquidity token amount for verifying info cell and pool cell later.</li><li>If it is remove liquidity request cell, verify if withdraw the correct CKB amount and sudt amount for user, and add up the CKB amount, sUDT amount and Liquidity token amount for verifying info cell and pool cell later.</li><li>Verify if the data storaged in info cell and pool cell is correct </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fn verify_add_liquidity()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if total_liquidity == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let liquidity = outputs[req_index_in_inputs * 2]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let change = outputs[req_index_in_inputs * 2 + 1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let user_lock_hash = req.lock.args[0..32]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if liquidity.type_hash != info.data.liquidity_sudt_type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || liquidity.lock_hash != user_lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       Outdated doc. reutrn fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let user_liquidity = BigUint::from(liquidity.data.amount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Check sudt exhaustion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if change.data.size == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if !change.type.is_none()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          || change.lock_hash != user_lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      let sudt_injected = BigUint::from(req.data.amount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      let ckb_injected = BigUint::from(req.capacity - SUDT_CAPACITY - change.capacity) // SUDT_CAPACITY for liquidity cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if ckb_injected != (sudt_injected * ckb_reserve / sudt_reserve) + 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      // Check ckb_injected &gt; min_ckb_injected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      let min_ckb_injected = BigUint::from(req.lock.args[49..57])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if min_ckb_injected == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          || ckb_injected &lt; min_ckb_injected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if user_liquidity != sudt_injected * total_liquidity / sudt_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Check ckb exhaustion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else if change.data.size &gt;= 16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if change.type_hash != pool.type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          || change.lock_hash != user_lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      let sudt_injected = BigUint::from(req.data.amount - change.data.amount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      let ckb_injected = BigUint::from(req.capacity - SUDT_CAPACITY * 2) // Two SUDT_CAPACITY for liquidity cell and sudt change cell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if sudt_injected != (ckb_injected * sudt_reserve / ckb_reserve) + 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      // Check sudt_injected &gt; min_sudt_injected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      let min_sudt_injected = BigUint::from(req.lock.args[33..49])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if min_sudt_injected == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          || sudt_injected &lt; min_sudt_injected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if user_liquidity != ckb_injected * total_liquidity / ckb_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ckb_collected += ckb_injected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sudt_collected += sudt_injected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    user_liquidity_added += user_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">endfn</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fn verify_remove_liquidity()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if total_liquidity == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if req.data.amount == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let output_a = outputs[req_index_in_inputs];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let output_b = outputs[req_index_in_inputs + 1];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if output_a.type.is_none() &amp;&amp; output_b.type.is_some()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        let ckb_out = output_a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        let sudt_out = output_b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else if output_a.type.is_some() &amp;&amp; output_b.type.is_none()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        let ckb_out = output_b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        let sudt_out = output_a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if sudt_out.capacity != SUDT_CAPACITY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ckb_out.data.size != 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || sudt_out.data.size &lt; 16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let user_lock_hash = req.lock.args[0..32]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if sudt_out.type_hash != pool.type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || sudt_out.lock_hash != user_lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || ckb_out.lock_hash != user_lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let user_ckb_got = BigUint::from(ckb_out.capacity - req.capacity)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let user_sudt_got = BigUint::from(sudt_out.data.amount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let removed_liquidity = BigUint::from(req.data.amount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Check user_ckb_got &gt;= min_ckb_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let min_ckb_got = req.lock.args[49..57]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if min_ckb_got == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || user_ckb_got &lt; min_ckb_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Check user_sudt_got &gt;= min_sudt_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let min_sudt_got = req.lock.args[33..49]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if min_sudt_got == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || user_sudt_got &lt; min_sudt_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if user_ckb_got != removed_liquidity * ckb_reserve / total_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if user_sudt_got != removed_liquidity * sudt_reserve / total_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pool_ckb_paid += user_ckb_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pool_sudt_paid += user_sudt_got</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    user_liquidity_removed += removed_liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    assert(pool_ckb_paid &lt; ckb_reserve)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    assert(pool_sudt_paid &lt; sudt_reserve)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    assert(user_liquidity_removed &lt; total_liquidity)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">endfn</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">for req in inputs[3..]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let version = req.lock.args[32..33]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if INFO_req_VERSION != version</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let req_info_type_hash = req.lock.args[57..89]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if req.data.size &lt; 16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        || req_info_type_hash != info.type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if info.data.total_liquidity == 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // Only allow on req to provide genesis liquidity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if count(inputs) - 3 != 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        verify_genesis_add_liquidity()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        break</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    match req.type_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        info.data.liquidity_sudt_type_hash =&gt; verify_remove_liquidity(req)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        pool.type_hash =&gt; verify_add_liquidity(req)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        _ =&gt; return fail // unknown liquidity req</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">endfor</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if info_out.capacity != INFO_CAPACITY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    || info_out.data.ckb_reserve != info_in.data.ckb_reserve - pool_ckb_paid + ckb_collected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    || info_out.data.sudt_reserve != info_in.data.sudt_reserve - pool_sudt_paid + token_collected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    || BigUint::from(info_out.data.total_liquidity) !=</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        BigUint::from(info_in.data.total_liquidity) - user_liquidity_removed +  user_liquidity_added</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if pool_out.capacity != pool_in.capacity + info_out.data.ckb_reserve - info_in.data.ckb_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    || pool_out.data.amount != info_out.data.sudt_reserve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return fail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">return success</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/tx-script/info-type-script.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/gliaswap-docs/docs/tx-script/pool-tx"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Pool transaction structure</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/gliaswap-docs/docs/tx-script/info-lock-script"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Info Cell Lock Script Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 GliaTeam.</div></div></div></footer></div>
<script src="/gliaswap-docs/styles.b76c52ae.js"></script>
<script src="/gliaswap-docs/runtime~main.55327375.js"></script>
<script src="/gliaswap-docs/main.03e697ce.js"></script>
<script src="/gliaswap-docs/1.3d4c47e5.js"></script>
<script src="/gliaswap-docs/2.4348564c.js"></script>
<script src="/gliaswap-docs/37.f9f393bd.js"></script>
<script src="/gliaswap-docs/38.55bbf0d0.js"></script>
<script src="/gliaswap-docs/935f2afb.619c3021.js"></script>
<script src="/gliaswap-docs/17896441.ab5cd8d7.js"></script>
<script src="/gliaswap-docs/92c17d9d.0ad6147a.js"></script>
</body>
</html>