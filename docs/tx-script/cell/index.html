<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/gliaswap-docs/blog/rss.xml" title="Gliaswap Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/gliaswap-docs/blog/atom.xml" title="Gliaswap Blog Atom Feed"><title data-react-helmet="true">Cell Structure | Gliaswap</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cell Structure | Gliaswap"><meta data-react-helmet="true" name="description" content="Gliaswap support swap and pool by specifying several cell formats and implementing a set of scripts."><meta data-react-helmet="true" property="og:description" content="Gliaswap support swap and pool by specifying several cell formats and implementing a set of scripts."><meta data-react-helmet="true" property="og:url" content="https://zoe-zhouzhou.github.io/gliaswap-docs/docs/tx-script/cell"><link data-react-helmet="true" rel="shortcut icon" href="/gliaswap-docs/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://zoe-zhouzhou.github.io/gliaswap-docs/docs/tx-script/cell"><link rel="stylesheet" href="/gliaswap-docs/styles.066e4677.css">
<link rel="preload" href="/gliaswap-docs/styles.e14deca6.js" as="script">
<link rel="preload" href="/gliaswap-docs/runtime~main.67eb29e5.js" as="script">
<link rel="preload" href="/gliaswap-docs/main.0343998c.js" as="script">
<link rel="preload" href="/gliaswap-docs/1.dba57845.js" as="script">
<link rel="preload" href="/gliaswap-docs/2.aeef72c1.js" as="script">
<link rel="preload" href="/gliaswap-docs/46.04a79037.js" as="script">
<link rel="preload" href="/gliaswap-docs/47.2bc9e338.js" as="script">
<link rel="preload" href="/gliaswap-docs/935f2afb.4513c572.js" as="script">
<link rel="preload" href="/gliaswap-docs/17896441.3c886368.js" as="script">
<link rel="preload" href="/gliaswap-docs/b6be93b7.0cbc149b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/gliaswap-docs/"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Gliaswap</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/gliaswap-docs/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gliaswap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/gliaswap-docs/"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/gliaswap-docs/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Gliaswap</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/gliaswap-docs/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/gliaswap" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gliaswap-docs/docs/">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Run Gliaswap</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gliaswap-docs/docs/run/run">Run Gliaswap</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Product</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/product/overview">Gliaswap Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/product/fee">Fee Structure</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Swap sUDT/CKB</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/gliaswap-docs/docs/tx-script/cell">Cell Structure</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Transaction Structure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/swap-tx">Swap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/pool-tx">Pool</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Script</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/info-type-script">Info Cell Type Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/info-lock-script">Info Cell Lock Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/swap-lock-script">Swap Request Cell Lock Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script/liquidity-lock-script">Liquidity Request Cell Lock Script</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Swap sUDT/sUDT</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gliaswap-docs/docs/tx-script-sudt/cell">Cell Structure</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Transaction Structure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script-sudt/swap-tx">Swap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script-sudt/pool-tx">Pool</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Script</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script-sudt/info-type-script">Info Cell Type Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script-sudt/info-lock-script">Info Cell Lock Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script-sudt/swap-lock-script">Swap Request Cell Lock Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gliaswap-docs/docs/tx-script-sudt/liquidity-lock-script">Liquidity Request Cell Lock Script</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gliaswap-docs/docs/ref/faq">FAQ</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Cell Structure</h1></header><div class="markdown"><p>Gliaswap support swap and pool by specifying several cell formats and implementing a set of scripts.</p><p>In Gliaswap, traders and LPs all need to submit requests firstly, and then the aggregator can help them to complete the swap or manage liquidity.</p><p>A request in Gliaswap is a live cell on the chain which also can be thought of as a data package that signals what you want to do. And a request cell is identified and constrained by its lock. There are two types of request cell:</p><ul><li><p><strong>Swap Request Cell</strong>: when swapping between CKB and sUDT, LPs need to make a request firstly by creating a swap request cell. This request cell signals what you want to trade, for what token, and how much you want. More details can refer to the following swap request cell format part. </p></li><li><p><strong>Liquidity Request Cell</strong>: when adding liquidity or removing liquidity from the pool, LPs need to make a request first by creating a liquidity request cell. This request cell signals what token pair you want to supply, for which pool, how much you want to supply. More details can refer to the following liquidity request cell format part. </p></li></ul><p>A pool of one token pair in Gliaswap is two cells on the chain - info cell and pool cell. </p><ul><li>The <strong>info cell</strong> is used to store the global states of this pool and restrict the rules for changing the status information. </li><li>The <strong>pool cell</strong> is used to store the real tokens. </li><li>These two cells have the same lock script and different type script, and more details can refer to the following info cell and pool cell format part. </li></ul><p>Liquidity tokens are minted to track the relative proportion of total reserves that each liquidity provider has contributed. In Gliaswap, liquidity token followed sUDT standard and use info lock as its owner lock. More details can refer to the following <strong>liquidity token cell</strong> format part. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="swap-request-cell"></a>Swap Request Cell<a class="hash-link" href="#swap-request-cell" title="Direct link to heading">#</a></h2><p>The swap request cell is used for selling or buying assets.</p><p>when using sUDT to buy CKB:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SWAP_REQ_CAPACITY_SELL - 227 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  capacity: - 8 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  data: - 16 bytes for sell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      sudt_amount: u128</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  type: sudt_type for sell - 65 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  lock: - 138 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      code: SWAP_REQ_LOCK_CODE_HASH - 32 bytes + 1 byte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      args: sudt_type_hash (32 bytes, 0..32) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          version (u8, 1 byte, 32..33) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          amountOutMin (u128, 16 bytes, 33..49) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          user_lock_hash (32 bytes, 49..81) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          tips (8 bytes, 81..89) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          tips_sudt (16 bytes, 89..105)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>when using CKB to buy sUDT:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SWAP_REQ_CAPACITY_SELL - 146 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  capacity: - 8 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  data: null for buy - 0 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  type: null for buy - 0 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  lock: - 138 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      code: SWAP_REQ_LOCK_CODE_HASH - 32 bytes + 1 byte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      args: sudt_type_hash (32 bytes, 0..32) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                version (u8, 1 byte, 32..33) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                amountOutMin (u128, 16 bytes, 33..49) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                user_lock_hash (32 bytes, 49..81) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                tips (8 bytes, 81..89) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                tips_sudt (16 bytes, 89..105)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Field description :</strong> </p><ul><li><code>capacity</code></li><li><code>data</code>: When selling sudt, <code>data</code> should be <code>sudt_amount</code> . When buying sudt, <code>data</code> should be null.</li><li><code>type script</code>: When selling sudt, <code>type script</code> should be <code>sudt_type</code> . When buying sudt, <code>type script</code> should be  null. </li><li><code>lock script</code> <ul><li><code>code_hash</code>: <code>SWAP_REQ_LOCK_CODE_HASH</code> </li><li><code>args</code>:<ul><li><code>version</code></li><li><code>amountOutMin</code>: <code>amountOutMin</code>  represents the minimum amount of tokens that trader can redeem. For example, when using sUDT to exchange for CKB, the <code>amountOutMin</code> should be the minimum amount of the redeemed CKB, not the minimum capacity of all cell.</li><li><code>user_lock_hash</code>: hash of user&#x27;s lock</li><li><code>tips</code>: The amount of CKB that user pay to miner and aggregator.</li><li><code>tips_sudt</code>: The amount of sUDT that user pay to  aggregator.</li></ul></li><li><code>hash_type</code> </li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="liquidity-request-cell"></a>Liquidity Request Cell<a class="hash-link" href="#liquidity-request-cell" title="Direct link to heading">#</a></h2><p>Liquidity request cell is used for add liquidity to liquidity pool or remove liquidity from liquidity pool by liquidity provider.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cell size: 235 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">capacity: - 8 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">data: - 16 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sudt_amount: u128</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type: asset_sudt_type for add / liquidity_sudt_type for remove - 65 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lock: - 146 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    code: LIQUIDITY_REQ_LOCK_CODE_HASH - 32 bytes + 1 byte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    args: info_type_hash_32 (32 bytes, 0..32) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              version (u8, 1 byte, 32..33) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              sudtMin (u128, 16 bytes, 33..49) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              ckbMin (u64, 8 bytes, 49..57) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              user_lock_hash (32 bytes, 57..89) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              tips (8 bytes, 89..97) | </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              tips_sudt (16 bytes, 97..113) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Field description :</strong> (total size: 235 bytes)</p><ul><li><code>lock script</code><ul><li><code>code_hash</code> : <code>LIQUIDITY_REQ_LOCK_CODE_HASH</code></li><li><code>args</code>: <ul><li><code>sudtMin</code> (byte order: little endian) : When it is initially adding liquidity, <code>sudtMin</code> has no meaning. When it is not initially adding liquidity, <code>sudtMin</code>  represents the minimum amount of CKB that could be used to add liquidity. While removing liquidity, <code>sudtMin</code> represents the minimum amount of sUDT that users will receive.</li><li><code>ckbMin</code> (byte order: little endian):  When it is initially adding liquidity,  <code>ckbMin</code>  has no meaning. When it is not initially adding liquidity, <code>ckbMin</code>  means minimum amount of CKB that could be used to add liquidity. While removing liquidity, <code>ckbMin</code> means minimum amount of CKB  that users will receive.</li><li><code>info_type_hash_32</code>: type hash of info cell</li><li><code>tips</code>:  The amount of CKB that users pay to the aggregator.</li><li><code>tips_sudt</code>: The amount of sUDT that user pay to  aggregator.</li></ul></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="info-cell"></a>Info Cell<a class="hash-link" href="#info-cell" title="Direct link to heading">#</a></h2><p>Info cell represents the current state of liquidity pool.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cell size: 250 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">capacity: - 8 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">data: - 80 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ckb_reserve: u128 16 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sudt_reserve: u128</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    total_liquidity: u128</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    liquidity_sudt_type_hash: 32 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type: - 65 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    code: INFO_TYPE_CODE_HASH - 32 bytes + 1 byte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    args: id - 32 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lock: - 97 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    code: INFO_LOCK_CODE_HASH - 32 bytes + 1 byte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    args: hash(ckb | asset_sudt_type_hash) 32 bytes | info_type_hash - 32 bytes </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Field description :</strong></p><ul><li><code>data</code> <ul><li><code>ckb_reserve</code>ï¼šTotal remaining amount of CKB  in the liquidity pool. </li><li><code>sudt_reserve</code>:  Total remaining amount of sUDT in the liquidity pool. </li><li><code>total_liquidity</code>: Total liquidity token issued. </li><li><code>liquidity_sudt_type_hash</code>:  Liquidty token type hash of this pool. </li></ul></li><li><code>type script</code><ul><li><code>args</code>:   <code>id</code>  =  <code>TypeId </code> which is the input index[1] outpoint .</li></ul></li><li><code>lock script</code> (size: 97 bytesï¼‰<ul><li><code>args</code>:<ul><li><code>hash(ckb | asset_sudt_type_hash)</code>: The order of CKB and sUDT in here follows dictionary order</li><li><code>info_type_hash</code> : The unlock rule relies on info type script.</li></ul></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pool-cell"></a>Pool Cell<a class="hash-link" href="#pool-cell" title="Direct link to heading">#</a></h2><p>Pool cell is used for fund custody.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cell size - 186 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">capacity: - 8 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">data: - 16 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sudt_amount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type: sudt_type - 65 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lock: info_lock - 97 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Field description :</strong> </p><ul><li><p><code>capacity</code>: The amount of CKB in liquidity pool.</p></li><li><p><code>data</code>: The amount of sUDT in liquidity pool.</p></li><li><p><code>type script</code>: sUDT type.</p></li><li><p><code>lock script</code>: Same with info cell lock. </p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="liquidty-token-cell"></a>Liquidty Token Cell<a class="hash-link" href="#liquidty-token-cell" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cell size - 142 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">capacity: - 8 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">data: amount: u128 - 16 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type: - 65 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    code: sudt_type_script</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    args: info_cell_lock_hash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lock: user_lock - 53 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Field description :</strong> </p><ul><li><code>type script</code> (size: 65 bytes)<ul><li><code>code_hash</code>: <code>sudt_type_script</code></li><li><code>args</code>:  in here, we use info cell lock hash as <code>owner_lock_hash</code>, since each time the liquidity tokens are minted or burned, info cell are required to be existed in this tx.input</li></ul></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/tx-script/cell.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/gliaswap-docs/docs/product/fee"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Fee Structure</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/gliaswap-docs/docs/tx-script/swap-tx"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Swap Transaction Structure Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#swap-request-cell" class="table-of-contents__link">Swap Request Cell</a></li><li><a href="#liquidity-request-cell" class="table-of-contents__link">Liquidity Request Cell</a></li><li><a href="#info-cell" class="table-of-contents__link">Info Cell</a></li><li><a href="#pool-cell" class="table-of-contents__link">Pool Cell</a></li><li><a href="#liquidty-token-cell" class="table-of-contents__link">Liquidty Token Cell</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 GliaTeam.</div></div></div></footer></div>
<script src="/gliaswap-docs/styles.e14deca6.js"></script>
<script src="/gliaswap-docs/runtime~main.67eb29e5.js"></script>
<script src="/gliaswap-docs/main.0343998c.js"></script>
<script src="/gliaswap-docs/1.dba57845.js"></script>
<script src="/gliaswap-docs/2.aeef72c1.js"></script>
<script src="/gliaswap-docs/46.04a79037.js"></script>
<script src="/gliaswap-docs/47.2bc9e338.js"></script>
<script src="/gliaswap-docs/935f2afb.4513c572.js"></script>
<script src="/gliaswap-docs/17896441.3c886368.js"></script>
<script src="/gliaswap-docs/b6be93b7.0cbc149b.js"></script>
</body>
</html>